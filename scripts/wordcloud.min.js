(function(){var k,p;k=10;p=3;var e=function(){function b(a,d){void 0===d?(this.x=a.x,this.y=a.y):(this.x=a,this.y=d)}b.prototype.u=function(a){return new b(this.x+a.x,this.y+a.y)};b.prototype.i=function(a){var d=1*(this.x-a.x);a=1.5*(this.y-a.y);return Math.sqrt(d*d+a*a)};b.prototype.c=function(a){a.a.fillStyle="red";a.a.fillRect(this.x-1,this.y-1,3,3)};return b}(),s=function(){function b(a){this.data=a.data;this.width=a.width;this.height=a.height}b.prototype.j=function(a){return this.data[4*(a.y*
this.width+a.x)+3]};b.prototype.e=function(a){coordinates=[];for(var d=0;d<this.height;d++)for(var c=0;c<this.width;c++)0==a?0<this.data[4*(d*this.width+c)+3]&&coordinates.push(new e(c,d)):coordinates.push(new e(c,d));return coordinates};return b}(),q=function(){function b(a,d){this.element=document.createElement("canvas");this.element.width=a;this.element.height=d;this.parent=null;this.a=this.element.getContext("2d")}b.prototype.k=function(a){document.getElementById(a).appendChild(this.element);
this.parent=a};b.prototype.d=function(a,d,c,b,t,f){void 0===f&&(f=new e(0,0));this.a.textBaseline="top";this.a.font=b.toString()+" "+d.toString()+"px "+t;this.a.shadowColor="black";this.a.shadowBlur=c?8:0;this.a.fillText(a,f.x,f.y)};b.prototype.b=function(a){a=void 0===a?this.a.getImageData(0,0,this.element.width,this.element.height):this.a.getImageData(a.start.x,a.start.y,a.width+1,a.height+1);return new s(a)};return b}(),r=function(){function b(a,d,c){this.width=a;this.height=d;this.canvas=new q(a,
d);void 0!==c&&this.canvas.k(c);this.g=this.b()}b.prototype.b=function(){return this.canvas.b()};b.prototype.t=function(a){return this.g.j(a)};b.prototype.d=function(a,d,c,b,e,f){this.canvas.a.fillStyle="black";this.canvas.d(a,d,c,b,e,f);this.g=this.b()};b.prototype.r=function(a,d){for(var c=0;c<a.length;c++)if(0!==this.t(a[c].u(d)))return!0;return!1};b.prototype.e=function(){coordinates=this.g.e(1);var a=new e(this.width/2,this.height/2);coordinates.sort(function(d,c){var b=d.i(a),e=c.i(a);return b<
e?-1:b>e?1:0});return coordinates};return b}(),u=function(){function b(a){this.start=new e(Infinity,Infinity);this.end=new e(-Infinity,-Infinity);for(var d=0;d<a.height;d++)for(var c=0;c<a.width;c++)0<a.j(new e(c,d))&&(this.start.x=Math.min(this.start.x,c),this.start.y=Math.min(this.start.y,d),this.end.x=Math.max(this.end.x,c),this.end.y=Math.max(this.end.y,d));this.width=this.end.x-this.start.x;this.height=this.end.y-this.start.y}b.prototype.c=function(a,d){a.a.strokeStyle=d;a.a.strokeRect(this.start.x,
this.start.y,this.width,this.height)};return b}(),v=function(){function b(a,d,c,b){this.text=a;this.size=k+p*d;this.fontWeight=c;this.f=b}b.prototype.o=function(a){var d=null,c=new q(600,200);c.d(this.text,this.size,!1,this.fontWeight,this.f);for(var b=c.b(),b=new u(b),c=c.b(b),h=c.e(0),f=a.e(),k=f.length,l=0;l<k;l++){var m=f[l],g=Math.floor(m.x-c.width/2),n=Math.floor(m.y-c.height/2),g=new e(g,n);if(!a.r(h,g)){d=m;break}}null===d&&(g=Math.floor(a.width/2),n=Math.floor(a.height/2),d=new e(g,n));return{v:d,
l:b}};b.prototype.c=function(a,b){var c=this.o(a),e=c.v,c=c.l,e={x:e.x-c.width/2-c.start.x,y:e.y-c.height/2-c.start.y};a.d(this.text,this.size,!0,this.fontWeight,this.f,e);b.d(this.text,this.size,!1,this.fontWeight,this.f,e)};return b}(),h=function(){function b(a,b,c){this.q=b;this.p=c;this.m=new r(350,300,void 0);this.n=new r(350,300,"wordcloud");this.h=[]}b.prototype.s=function(a,b){if(void 0===a||void 0===b)console.error("insufficient arguments");else{var c=new v(a,b,this.q,this.p);this.h.push(c)}};
b.prototype.c=function(){for(var a=0;a<this.h.length;a++)this.h[a].c(this.m,this.n)};return b}();window.WordCloud=h;window.WordCloud.prototype.paint=h.prototype.c;window.WordCloud.prototype.putWord=h.prototype.s})();
